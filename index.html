<!doctype html>
<html lang="pt-BR" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Card√°pio Digital Premium</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      box-sizing: border-box;
    }
    
    @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Lato:wght@300;400;700;900&display=swap');
    
    body {
      margin: 0;
      padding: 0;
      font-family: 'Lato', sans-serif;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    .menu-container {
      width: 100%;
      height: 100%;
      overflow: auto;
      position: relative;
    }
    
    .hero-section {
      padding: 220px 40px 100px 40px;
      text-align: center;
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 550px;
    }
    
    .hero-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjIygdJl0zlDqB2M-HKoX_kPWNt2Dnnt0juhtpwYnJqc4baAaGzzahREGevZWEzyXIngQ5gR2o1zbWyr_ZxmxY8iM9jzpeyIMNnx92n8xvNpNlbbnuAEpnxEwwjJnEV6fI3u9Lh7TNNC-8LWAtZiOjU-XMEipM7X3C5n1O6HJAnNS1cpPlCWNLkMOgUsMrD/s1584/Banner%20para%20LinkedIn%20Advogada%20Moderno%20Elegante%20Simples%20Azul%20Branco.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      opacity: 0.08;
      pointer-events: none;
    }
    
    .hero-section::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 50% 50%, rgba(212, 175, 55, 0.05), transparent 70%);
      pointer-events: none;
    }
    
    .hero-content {
      position: relative;
      z-index: 1;
      text-shadow: 0 4px 20px rgba(0, 0, 0, 0.9), 0 2px 10px rgba(0, 0, 0, 0.8);
    }
    
    .hero-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 56px;
      font-weight: 600;
      margin: 0 0 12px 0;
      letter-spacing: 2px;
      text-transform: uppercase;
    }
    
    .hero-tagline {
      font-size: 14px;
      font-weight: 400;
      letter-spacing: 3px;
      text-transform: uppercase;
      margin: 0;
      opacity: 0.6;
    }
    
    .divider {
      width: 2px;
      height: 60px;
      margin: 50px auto;
      background: linear-gradient(180deg, transparent, currentColor, transparent);
      opacity: 0.3;
    }
    
    .nav-menu {
      position: sticky;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 8px;
      z-index: 1000;
      background: rgba(26, 26, 26, 0.85);
      padding: 8px;
      border-radius: 16px;
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      justify-content: center;
      margin: 0 auto 60px auto;
      width: fit-content;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }
    
    .nav-btn {
      padding: 10px 22px;
      background: transparent;
      border: none;
      color: rgba(232, 232, 232, 0.65);
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      cursor: pointer;
      border-radius: 12px;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }
    
    .nav-btn:hover {
      background: rgba(255, 255, 255, 0.06);
      color: #e8e8e8;
    }
    
    .nav-btn.active {
      background: rgba(201, 160, 95, 0.9);
      color: #0a0a0a;
      font-weight: 700;
    }
    
    .search-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1001;
      width: 350px;
    }
    
    .search-box {
      position: relative;
      display: flex;
      align-items: center;
      background: rgba(26, 26, 26, 0.85);
      border: 1px solid rgba(201, 160, 95, 0.2);
      border-radius: 50px;
      padding: 0 20px;
      transition: all 0.3s ease;
      backdrop-filter: blur(12px);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }
    
    .search-box:focus-within {
      border-color: rgba(201, 160, 95, 0.5);
      background: rgba(26, 26, 26, 0.8);
      box-shadow: 0 8px 24px rgba(201, 160, 95, 0.15);
    }
    
    .search-icon {
      font-size: 18px;
      margin-right: 10px;
      opacity: 0.5;
    }
    
    .search-input {
      flex: 1;
      background: transparent;
      border: none;
      padding: 12px 0;
      color: #e8e8e8;
      font-size: 14px;
      font-family: 'Lato', sans-serif;
      outline: none;
    }
    
    .search-input::placeholder {
      color: rgba(232, 232, 232, 0.4);
    }
    
    .search-clear {
      background: rgba(201, 160, 95, 0.2);
      border: none;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      color: #c9a05f;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      transition: all 0.2s ease;
      margin-left: 8px;
    }
    
    .search-clear:hover {
      background: rgba(201, 160, 95, 0.3);
      transform: scale(1.1);
    }
    
    .search-results-info {
      text-align: center;
      padding: 20px;
      color: rgba(232, 232, 232, 0.6);
      font-size: 14px;
      font-weight: 600;
      letter-spacing: 1px;
    }
    
    .highlight {
      background: rgba(201, 160, 95, 0.3);
      padding: 2px 4px;
      border-radius: 3px;
    }
    
    .menu-content {
      max-width: 1600px;
      margin: 0 auto;
      padding: 40px 60px 80px 60px;
    }
    
    .category-section {
      margin-bottom: 120px;
    }
    
    .category-header {
      text-align: center;
      margin-bottom: 60px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
    }
    
    .category-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 42px;
      font-weight: 600;
      margin: 0;
      letter-spacing: 2px;
      text-transform: uppercase;
    }
    
    .add-item-btn {
      padding: 8px 18px;
      background: rgba(201, 160, 95, 0.15);
      border: 1px solid rgba(201, 160, 95, 0.3);
      color: #c9a05f;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: none;
    }
    
    .add-item-btn:hover {
      background: rgba(201, 160, 95, 0.25);
      border-color: rgba(201, 160, 95, 0.5);
    }
    
    .items-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
      gap: 45px;
    }
    
    .menu-item {
      border-radius: 16px;
      overflow: hidden;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.06);
      position: relative;
    }
    
    .menu-item:hover {
      transform: translateY(-6px);
      box-shadow: 0 16px 32px rgba(0,0,0,0.35);
      border-color: rgba(201, 160, 95, 0.2);
    }
    
    .menu-item:hover .item-actions {
      opacity: 1;
    }
    
    .item-actions {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 8px;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 10;
    }
    
    .item-action-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      transition: all 0.2s ease;
      backdrop-filter: blur(10px);
    }
    
    .edit-item-btn {
      background: rgba(201, 160, 95, 0.9);
      color: #0a0a0a;
    }
    
    .edit-item-btn:hover {
      background: rgba(201, 160, 95, 1);
      transform: scale(1.1);
    }
    
    .delete-item-btn {
      background: rgba(220, 53, 69, 0.9);
      color: #fff;
    }
    
    .delete-item-btn:hover {
      background: rgba(220, 53, 69, 1);
      transform: scale(1.1);
    }
    
    .item-image {
      width: 100%;
      height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    }
    
    .item-image::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(180deg, transparent 50%, rgba(0,0,0,0.3));
      pointer-events: none;
    }
    
    .item-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.4s ease;
    }
    
    .menu-item:hover .item-image img {
      transform: scale(1.05);
    }
    
    .item-content {
      padding: 32px 30px;
    }
    
    .item-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 12px;
      gap: 16px;
    }
    
    .item-name {
      font-family: 'Cormorant Garamond', serif;
      font-size: 24px;
      font-weight: 600;
      margin: 0;
      flex: 1;
      letter-spacing: 0.5px;
    }
    
    .item-price {
      font-size: 20px;
      font-weight: 700;
      margin-left: 16px;
      white-space: nowrap;
    }
    
    .item-description {
      font-size: 13px;
      line-height: 1.6;
      margin: 0 0 18px 0;
      opacity: 0.6;
      font-weight: 400;
    }
    
    .item-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    
    .tag {
      padding: 5px 12px;
      border-radius: 6px;
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      background: rgba(201, 160, 95, 0.15);
      transition: all 0.2s ease;
    }
    
    .menu-item:hover .tag {
      background: rgba(201, 160, 95, 0.25);
    }
    
    .footer {
      text-align: center;
      padding: 60px 40px;
      font-size: 11px;
      opacity: 0.4;
      letter-spacing: 2px;
      text-transform: uppercase;
      font-weight: 400;
    }
    
    .admin-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: rgba(201, 160, 95, 0.15);
      border: 1px solid rgba(201, 160, 95, 0.3);
      color: rgba(201, 160, 95, 0.6);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      transition: all 0.3s ease;
      z-index: 2000;
      backdrop-filter: blur(10px);
    }
    
    .admin-btn:hover {
      background: rgba(201, 160, 95, 0.25);
      color: rgba(201, 160, 95, 0.9);
      transform: scale(1.05);
      border-color: rgba(201, 160, 95, 0.5);
    }
    
    .edit-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(8px);
      z-index: 3000;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
      overflow-y: auto;
    }
    
    .edit-modal.active {
      display: flex;
    }
    
    .edit-panel {
      background: #1a1a1a;
      border-radius: 16px;
      padding: 40px;
      max-width: 600px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      border: 1px solid rgba(201, 160, 95, 0.2);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }
    
    .edit-panel h2 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 32px;
      color: #c9a05f;
      margin: 0 0 30px 0;
      text-align: center;
      font-weight: 600;
      letter-spacing: 1px;
    }
    
    .edit-section {
      margin-bottom: 30px;
    }
    
    .edit-section h3 {
      font-size: 14px;
      color: #c9a05f;
      text-transform: uppercase;
      letter-spacing: 2px;
      margin: 0 0 15px 0;
      font-weight: 700;
    }
    
    .edit-field {
      margin-bottom: 20px;
    }
    
    .edit-field label {
      display: block;
      font-size: 12px;
      color: rgba(232, 232, 232, 0.7);
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 600;
    }
    
    .edit-field input,
    .edit-field textarea,
    .edit-field select {
      width: 100%;
      padding: 12px 16px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      color: #e8e8e8;
      font-size: 14px;
      font-family: 'Lato', sans-serif;
      transition: all 0.3s ease;
    }
    
    .edit-field textarea {
      min-height: 80px;
      resize: vertical;
    }
    
    .edit-field input:focus,
    .edit-field textarea:focus,
    .edit-field select:focus {
      outline: none;
      border-color: #c9a05f;
      background: rgba(255, 255, 255, 0.08);
    }
    
    .edit-field select {
      cursor: pointer;
    }
    
    .edit-field input[type="text"]::placeholder,
    .edit-field textarea::placeholder {
      color: rgba(232, 232, 232, 0.3);
    }
    
    .edit-actions {
      display: flex;
      gap: 12px;
      margin-top: 30px;
    }
    
    .edit-btn {
      flex: 1;
      padding: 14px 24px;
      border: none;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Lato', sans-serif;
    }
    
    .edit-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .edit-btn.save {
      background: #c9a05f;
      color: #0a0a0a;
    }
    
    .edit-btn.save:hover:not(:disabled) {
      background: #d4af6f;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(201, 160, 95, 0.3);
    }
    
    .edit-btn.cancel {
      background: rgba(255, 255, 255, 0.05);
      color: #e8e8e8;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .edit-btn.cancel:hover {
      background: rgba(255, 255, 255, 0.08);
    }
    
    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: rgba(232, 232, 232, 0.4);
      font-size: 14px;
    }
    
    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }
    
    .toast {
      position: fixed;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(26, 26, 26, 0.95);
      color: #e8e8e8;
      padding: 16px 32px;
      border-radius: 12px;
      border: 1px solid rgba(201, 160, 95, 0.3);
      font-size: 14px;
      font-weight: 600;
      z-index: 4000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      backdrop-filter: blur(10px);
    }
    
    .toast.show {
      opacity: 1;
    }
    
    .toast.error {
      border-color: rgba(220, 53, 69, 0.5);
      color: #dc3545;
    }
    
    .loading-spinner {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid rgba(10, 10, 10, 0.3);
      border-top-color: #0a0a0a;
      border-radius: 50%;
      animation: spin 0.6s linear infinite;
      margin-right: 8px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    @media (max-width: 768px) {
      .hero-title {
        font-size: 36px;
      }
      
      .category-title {
        font-size: 28px;
      }
      
      .category-header {
        flex-direction: column;
        gap: 12px;
      }
      
      .items-grid {
        grid-template-columns: 1fr;
        gap: 35px;
      }
      
      .menu-content {
        padding: 30px 20px 60px 20px;
      }
      
      .edit-panel {
        padding: 30px 20px;
      }
      
      .search-container {
        width: calc(100% - 40px);
        right: 20px;
        left: 20px;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div class="menu-container" id="menuContainer">
   <div class="hero-section" id="heroSection">
    <div class="hero-content">
     <h2 class="hero-title" id="restaurantName">Card√°pio inv√≥</h2>
     <p class="hero-tagline" id="restaurantTagline">Culin√°ria Italiana Aut√™ntica</p>
     <div class="divider" id="heroDivider"></div>
    </div>
   </div>
   <nav class="nav-menu"><button class="nav-btn active">Entradas</button> <a href="https://zerotofamebr.github.io/adegainv-/" target="_blank" rel="noopener noreferrer" class="nav-btn">Vinhos</a> <a href="https://zerotofamebr.github.io/bebidasinv-/" target="_blank" rel="noopener noreferrer" class="nav-btn">Bebidas</a>
   </nav>
   <div class="search-container">
    <div class="search-box"><span class="search-icon">üîç</span> <input type="text" id="searchInput" class="search-input" placeholder="Pesquisar pratos, ingredientes ou categorias..."> <button class="search-clear" id="searchClear" style="display: none;">‚úï</button>
    </div>
   </div>
   <div class="menu-content">
    <div class="category-section">
     <div class="category-header">
      <h2 class="category-title" id="appetizersTitle">Entradas</h2><button class="add-item-btn" onclick="openItemModal('appetizers')">+ Adicionar Prato</button>
     </div>
     <div class="items-grid" id="appetizersGrid"></div>
    </div>
    <div class="category-section">
     <div class="category-header">
      <h2 class="category-title" id="mainCoursesTitle">Pratos Principais</h2><button class="add-item-btn" onclick="openItemModal('mainCourses')">+ Adicionar Prato</button>
     </div>
     <div class="items-grid" id="mainCoursesGrid"></div>
    </div>
    <div class="category-section">
     <div class="category-header">
      <h2 class="category-title" id="pastaTitle">Massas Especiais</h2><button class="add-item-btn" onclick="openItemModal('pasta')">+ Adicionar Prato</button>
     </div>
     <div class="items-grid" id="pastaGrid"></div>
    </div>
    <div class="category-section">
     <div class="category-header">
      <h2 class="category-title" id="dessertsTitle">Sobremesas</h2><button class="add-item-btn" onclick="openItemModal('desserts')">+ Adicionar Prato</button>
     </div>
     <div class="items-grid" id="dessertsGrid"></div>
    </div>
    <div class="category-section">
     <div class="category-header">
      <h2 class="category-title" id="beveragesTitle">Carta de Vinhos &amp; Bebidas</h2><button class="add-item-btn" onclick="openItemModal('beverages')">+ Adicionar Prato</button>
     </div>
     <div class="items-grid" id="beveragesGrid"></div>
    </div>
   </div>
   <div class="footer" id="footer">
    <p>¬© 2024 La Dolce Vita. Todos os direitos reservados.</p>
   </div>
  </div><button class="admin-btn" id="adminBtn" title="Editar Card√°pio">‚öôÔ∏è</button>
  <div class="edit-modal" id="settingsModal">
   <div class="edit-panel">
    <h2>Configura√ß√µes do Card√°pio</h2>
    <div class="edit-section">
     <h3>Cabe√ßalho</h3>
     <div class="edit-field"><label for="editRestaurantName">Nome do Restaurante</label> <input type="text" id="editRestaurantName" placeholder="Nome do seu restaurante">
     </div>
     <div class="edit-field"><label for="editRestaurantTagline">Slogan</label> <input type="text" id="editRestaurantTagline" placeholder="Slogan do restaurante">
     </div>
    </div>
    <div class="edit-section">
     <h3>Se√ß√µes do Card√°pio</h3>
     <div class="edit-field"><label for="editAppetizers">T√≠tulo Entradas</label> <input type="text" id="editAppetizers">
     </div>
     <div class="edit-field"><label for="editMainCourses">T√≠tulo Pratos Principais</label> <input type="text" id="editMainCourses">
     </div>
     <div class="edit-field"><label for="editPasta">T√≠tulo Massas</label> <input type="text" id="editPasta">
     </div>
     <div class="edit-field"><label for="editDesserts">T√≠tulo Sobremesas</label> <input type="text" id="editDesserts">
     </div>
     <div class="edit-field"><label for="editBeverages">T√≠tulo Bebidas</label> <input type="text" id="editBeverages">
     </div>
    </div>
    <div class="edit-actions"><button class="edit-btn cancel" onclick="closeSettingsModal()">Cancelar</button> <button class="edit-btn save" onclick="saveSettings()">Salvar Altera√ß√µes</button>
    </div>
   </div>
  </div>
  <div class="edit-modal" id="itemModal">
   <div class="edit-panel">
    <h2 id="itemModalTitle">Adicionar Prato</h2>
    <div class="edit-section">
     <div class="edit-field"><label for="itemName">Nome do Prato</label> <input type="text" id="itemName" placeholder="Ex: Fettuccine al Tartufo">
     </div>
     <div class="edit-field"><label for="itemPrice">Pre√ßo</label> <input type="text" id="itemPrice" placeholder="Ex: R$ 115,00">
     </div>
     <div class="edit-field"><label for="itemDescription">Descri√ß√£o</label> <textarea id="itemDescription" placeholder="Descreva o prato"></textarea>
     </div>
     <div class="edit-field"><label for="itemImageUrl">URL da Imagem (opcional)</label> <input type="text" id="itemImageUrl" placeholder="https://exemplo.com/imagem.jpg">
     </div>
     <div class="edit-field"><label for="itemTags">Tags (separadas por v√≠rgula)</label> <input type="text" id="itemTags" placeholder="Ex: Premium, Vegetariano, Chef">
     </div>
     <div class="edit-field"><label for="itemCategory">Categoria</label> <select id="itemCategory"> <option value="appetizers">Entradas</option> <option value="mainCourses">Pratos Principais</option> <option value="pasta">Massas</option> <option value="desserts">Sobremesas</option> <option value="beverages">Bebidas</option> </select>
     </div>
    </div>
    <div class="edit-actions"><button class="edit-btn cancel" onclick="closeItemModal()">Cancelar</button> <button class="edit-btn save" id="saveItemBtn" onclick="saveItem()">Salvar Prato</button>
    </div>
   </div>
  </div>
  <div class="toast" id="toast"></div>
  <div class="edit-modal" id="passwordModal">
   <div class="edit-panel" style="max-width: 400px;">
    <h2>üîí Acesso Administrativo</h2>
    <div class="edit-section">
     <div class="edit-field"><label for="adminPassword">Digite a senha de administrador</label> <input type="password" id="adminPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="off">
     </div>
    </div>
    <div class="edit-actions"><button class="edit-btn cancel" onclick="closePasswordModal()">Cancelar</button> <button class="edit-btn save" onclick="verifyPassword()">Entrar</button>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      background_color: "#0a0a0a",
      card_background: "#1a1a1a",
      text_color: "#e8e8e8",
      accent_color: "#c9a05f",
      tag_color: "#c9a05f",
      restaurant_name: "Card√°pio inv√≥",
      restaurant_tagline: "Descubra sabores √∫nicos e pratos especiais preparados com carinho",
      appetizers_title: "Entradas",
      main_courses_title: "Pratos Principais",
      pasta_title: "Massas Especiais",
      desserts_title: "Sobremesas",
      beverages_title: "Carta de Vinhos & Bebidas",
      font_family: "Lato",
      font_size: 16
    };

    let allMenuItems = [];
    let editingItemId = null;
    let currentCategory = null;
    let searchTerm = '';
    let isAdminAuthenticated = false;

    function showToast(message, isError = false) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.className = 'toast show' + (isError ? ' error' : '');
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    function createMenuItem(item, colors, baseSize) {
      const card = document.createElement('div');
      card.className = 'menu-item';
      card.style.backgroundColor = colors.card_background;
      card.style.borderColor = `${colors.accent_color}20`;
      card.dataset.itemId = item.id || item.__backendId;
      
      const actions = document.createElement('div');
      actions.className = 'item-actions';
      actions.style.display = isAdminAuthenticated ? 'flex' : 'none';
      actions.innerHTML = `
        <button class="item-action-btn edit-item-btn" onclick="editItem('${item.__backendId || item.id}')" title="Editar">‚úèÔ∏è</button>
        <button class="item-action-btn delete-item-btn" onclick="deleteItem('${item.__backendId || item.id}')" title="Excluir">ÔøΩÔøΩÔøΩÔøΩÔ∏è</button>
      `;
      
      const imageDiv = document.createElement('div');
      imageDiv.className = 'item-image';
      
      if (item.image_url) {
        const img = document.createElement('img');
        img.src = item.image_url;
        img.alt = item.name;
        img.onerror = function() {
          this.src = '';
          this.alt = 'Imagem n√£o dispon√≠vel';
          this.style.display = 'none';
          imageDiv.style.backgroundColor = 'rgba(255,255,255,0.03)';
          imageDiv.innerHTML += '<div style="color: rgba(232,232,232,0.3); font-size: 14px;">üñºÔ∏è<br>Sem imagem</div>';
        };
        imageDiv.appendChild(img);
      } else {
        imageDiv.style.backgroundColor = 'rgba(255,255,255,0.03)';
        imageDiv.innerHTML = '<div style="color: rgba(232,232,232,0.3); font-size: 14px;">üñºÔ∏è<br>Sem imagem</div>';
      }
      
      const content = document.createElement('div');
      content.className = 'item-content';
      
      const header = document.createElement('div');
      header.className = 'item-header';
      
      const name = document.createElement('h3');
      name.className = 'item-name';
      name.textContent = item.name;
      name.style.color = colors.text_color;
      name.style.fontSize = `${baseSize * 1.5}px`;
      
      const price = document.createElement('div');
      price.className = 'item-price';
      price.textContent = item.price;
      price.style.color = colors.accent_color;
      price.style.fontSize = `${baseSize * 1.25}px`;
      
      header.appendChild(name);
      header.appendChild(price);
      
      const description = document.createElement('p');
      description.className = 'item-description';
      description.textContent = item.description;
      description.style.color = colors.text_color;
      description.style.fontSize = `${baseSize * 0.8125}px`;
      
      const tags = document.createElement('div');
      tags.className = 'item-tags';
      
      if (item.tags) {
        const tagList = typeof item.tags === 'string' ? item.tags.split(',').map(t => t.trim()) : item.tags;
        tagList.forEach(tagText => {
          if (tagText) {
            const tag = document.createElement('span');
            tag.className = 'tag';
            tag.textContent = tagText;
            tag.style.borderColor = colors.tag_color;
            tag.style.color = colors.tag_color;
            tag.style.fontSize = `${baseSize * 0.625}px`;
            tags.appendChild(tag);
          }
        });
      }
      
      content.appendChild(header);
      content.appendChild(description);
      content.appendChild(tags);
      
      card.appendChild(actions);
      card.appendChild(imageDiv);
      card.appendChild(content);
      
      return card;
    }

    async function onConfigChange(config) {
      const colors = {
        background_color: config.background_color || defaultConfig.background_color,
        card_background: config.card_background || defaultConfig.card_background,
        text_color: config.text_color || defaultConfig.text_color,
        accent_color: config.accent_color || defaultConfig.accent_color,
        tag_color: config.tag_color || defaultConfig.tag_color
      };
      
      const customFont = config.font_family || defaultConfig.font_family;
      const baseFontSize = config.font_size || defaultConfig.font_size;
      const bodyFontStack = `${customFont}, 'Lato', sans-serif`;
      const titleFontStack = `${customFont}, 'Cormorant Garamond', serif`;
      
      document.body.style.fontFamily = bodyFontStack;
      document.body.style.fontSize = `${baseFontSize}px`;
      
      const menuContainer = document.getElementById('menuContainer');
      menuContainer.style.backgroundColor = colors.background_color;
      
      const heroSection = document.getElementById('heroSection');
      heroSection.style.backgroundColor = colors.background_color;
      
      const restaurantName = document.getElementById('restaurantName');
      restaurantName.textContent = config.restaurant_name || defaultConfig.restaurant_name;
      restaurantName.style.color = colors.accent_color;
      restaurantName.style.fontFamily = titleFontStack;
      restaurantName.style.fontSize = `${baseFontSize * 3.5}px`;
      
      const restaurantTagline = document.getElementById('restaurantTagline');
      restaurantTagline.textContent = config.restaurant_tagline || defaultConfig.restaurant_tagline;
      restaurantTagline.style.color = colors.text_color;
      restaurantTagline.style.fontSize = `${baseFontSize * 0.875}px`;
      
      const heroDivider = document.getElementById('heroDivider');
      heroDivider.style.background = `linear-gradient(180deg, transparent, ${colors.accent_color}, transparent)`;
      
      const categoryTitles = [
        { el: document.getElementById('appetizersTitle'), key: 'appetizers_title' },
        { el: document.getElementById('mainCoursesTitle'), key: 'main_courses_title' },
        { el: document.getElementById('pastaTitle'), key: 'pasta_title' },
        { el: document.getElementById('dessertsTitle'), key: 'desserts_title' },
        { el: document.getElementById('beveragesTitle'), key: 'beverages_title' }
      ];
      
      categoryTitles.forEach(({ el, key }) => {
        el.textContent = config[key] || defaultConfig[key];
        el.style.color = colors.accent_color;
        el.style.fontFamily = titleFontStack;
        el.style.fontSize = `${baseFontSize * 2.625}px`;
      });
      
      const footer = document.getElementById('footer');
      footer.style.backgroundColor = colors.card_background;
      footer.style.color = colors.text_color;
      footer.style.fontSize = `${baseFontSize * 0.6875}px`;
      
      renderMenuItems(colors, baseFontSize);
    }

    function filterItemsBySearch(items) {
      if (!searchTerm) return items;
      
      const term = searchTerm.toLowerCase();
      return items.filter(item => {
        const nameMatch = item.name.toLowerCase().includes(term);
        const descMatch = item.description.toLowerCase().includes(term);
        const tagsMatch = item.tags && item.tags.toLowerCase().includes(term);
        const priceMatch = item.price.toLowerCase().includes(term);
        
        return nameMatch || descMatch || tagsMatch || priceMatch;
      });
    }

    function renderMenuItems(colors, baseSize) {
      const categories = {
        appetizers: document.getElementById('appetizersGrid'),
        mainCourses: document.getElementById('mainCoursesGrid'),
        pasta: document.getElementById('pastaGrid'),
        desserts: document.getElementById('dessertsGrid'),
        beverages: document.getElementById('beveragesGrid')
      };
      
      let totalResults = 0;
      
      Object.keys(categories).forEach(category => {
        const grid = categories[category];
        const section = grid.closest('.category-section');
        grid.innerHTML = '';
        
        const categoryItems = allMenuItems.filter(item => item.category === category);
        const filteredItems = filterItemsBySearch(categoryItems);
        
        totalResults += filteredItems.length;
        
        if (searchTerm && filteredItems.length === 0) {
          section.style.display = 'none';
        } else {
          section.style.display = 'block';
          
          if (filteredItems.length === 0) {
            const emptyState = document.createElement('div');
            emptyState.className = 'empty-state';
            emptyState.innerHTML = '<div class="empty-state-icon">üçΩÔ∏è</div><p>Nenhum prato adicionado ainda</p>';
            grid.appendChild(emptyState);
          } else {
            filteredItems.forEach(item => {
              grid.appendChild(createMenuItem(item, colors, baseSize));
            });
          }
        }
      });
      
      updateSearchResults(totalResults);
    }
    
    function updateSearchResults(count) {
      let existingInfo = document.querySelector('.search-results-info');
      
      if (searchTerm) {
        if (!existingInfo) {
          existingInfo = document.createElement('div');
          existingInfo.className = 'search-results-info';
          const menuContent = document.querySelector('.menu-content');
          menuContent.insertBefore(existingInfo, menuContent.firstChild);
        }
        
        if (count === 0) {
          existingInfo.innerHTML = `üîç Nenhum resultado encontrado para "<span class="highlight">${searchTerm}</span>"`;
        } else {
          existingInfo.innerHTML = `üîç ${count} ${count === 1 ? 'resultado encontrado' : 'resultados encontrados'} para "<span class="highlight">${searchTerm}</span>"`;
        }
      } else {
        if (existingInfo) {
          existingInfo.remove();
        }
      }
    }

    function openPasswordModal() {
      document.getElementById('adminPassword').value = '';
      document.getElementById('passwordModal').classList.add('active');
      setTimeout(() => document.getElementById('adminPassword').focus(), 100);
    }
    
    function closePasswordModal() {
      document.getElementById('passwordModal').classList.remove('active');
    }
    
    function verifyPassword() {
      const password = document.getElementById('adminPassword').value;
      const correctPassword = '96439129';
      
      if (password === correctPassword) {
        isAdminAuthenticated = true;
        closePasswordModal();
        showToast('‚úÖ Acesso administrativo concedido!');
        updateAdminUI();
      } else {
        showToast('‚ùå Senha incorreta. Tente novamente.', true);
        document.getElementById('adminPassword').value = '';
        document.getElementById('adminPassword').focus();
      }
    }
    
    function updateAdminUI() {
      const addButtons = document.querySelectorAll('.add-item-btn');
      const itemActions = document.querySelectorAll('.item-actions');
      const adminBtn = document.getElementById('adminBtn');
      
      if (isAdminAuthenticated) {
        addButtons.forEach(btn => btn.style.display = 'block');
        itemActions.forEach(actions => actions.style.display = 'flex');
        adminBtn.style.background = 'rgba(201, 160, 95, 0.25)';
        adminBtn.style.borderColor = 'rgba(201, 160, 95, 0.5)';
        adminBtn.style.color = '#c9a05f';
      } else {
        addButtons.forEach(btn => btn.style.display = 'none');
        itemActions.forEach(actions => actions.style.display = 'none');
        adminBtn.style.background = 'rgba(201, 160, 95, 0.15)';
        adminBtn.style.borderColor = 'rgba(201, 160, 95, 0.3)';
        adminBtn.style.color = 'rgba(201, 160, 95, 0.6)';
      }
    }

    function openSettingsModal() {
      if (!isAdminAuthenticated) {
        openPasswordModal();
        return;
      }
      
      const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
      
      document.getElementById('editRestaurantName').value = config.restaurant_name || defaultConfig.restaurant_name;
      document.getElementById('editRestaurantTagline').value = config.restaurant_tagline || defaultConfig.restaurant_tagline;
      document.getElementById('editAppetizers').value = config.appetizers_title || defaultConfig.appetizers_title;
      document.getElementById('editMainCourses').value = config.main_courses_title || defaultConfig.main_courses_title;
      document.getElementById('editPasta').value = config.pasta_title || defaultConfig.pasta_title;
      document.getElementById('editDesserts').value = config.desserts_title || defaultConfig.desserts_title;
      document.getElementById('editBeverages').value = config.beverages_title || defaultConfig.beverages_title;
      
      document.getElementById('settingsModal').classList.add('active');
    }
    
    function closeSettingsModal() {
      document.getElementById('settingsModal').classList.remove('active');
    }
    
    function saveSettings() {
      const newConfig = {
        restaurant_name: document.getElementById('editRestaurantName').value,
        restaurant_tagline: document.getElementById('editRestaurantTagline').value,
        appetizers_title: document.getElementById('editAppetizers').value,
        main_courses_title: document.getElementById('editMainCourses').value,
        pasta_title: document.getElementById('editPasta').value,
        desserts_title: document.getElementById('editDesserts').value,
        beverages_title: document.getElementById('editBeverages').value
      };
      
      if (window.elementSdk) {
        window.elementSdk.setConfig(newConfig);
      }
      
      closeSettingsModal();
      showToast('Configura√ß√µes salvas com sucesso!');
    }

    function openItemModal(category) {
      editingItemId = null;
      currentCategory = category;
      
      document.getElementById('itemModalTitle').textContent = 'Adicionar Prato';
      document.getElementById('itemName').value = '';
      document.getElementById('itemPrice').value = '';
      document.getElementById('itemDescription').value = '';
      document.getElementById('itemImageUrl').value = '';
      document.getElementById('itemTags').value = '';
      document.getElementById('itemCategory').value = category;
      
      document.getElementById('itemModal').classList.add('active');
    }

    function closeItemModal() {
      document.getElementById('itemModal').classList.remove('active');
      editingItemId = null;
      currentCategory = null;
    }

    async function saveItem() {
      if (allMenuItems.length >= 999 && !editingItemId) {
        showToast('Limite m√°ximo de 999 pratos atingido. Exclua alguns pratos primeiro.', true);
        return;
      }

      const name = document.getElementById('itemName').value.trim();
      const price = document.getElementById('itemPrice').value.trim();
      const description = document.getElementById('itemDescription').value.trim();
      const imageUrl = document.getElementById('itemImageUrl').value.trim();
      const tags = document.getElementById('itemTags').value.trim();
      const category = document.getElementById('itemCategory').value;
      
      if (!name || !price || !description) {
        showToast('Por favor, preencha todos os campos obrigat√≥rios', true);
        return;
      }
      
      const saveBtn = document.getElementById('saveItemBtn');
      saveBtn.disabled = true;
      saveBtn.innerHTML = '<span class="loading-spinner"></span>Salvando...';
      
      const itemData = {
        name,
        price,
        description,
        image_url: imageUrl,
        tags,
        category,
        created_at: new Date().toISOString()
      };
      
      if (editingItemId) {
        const existingItem = allMenuItems.find(item => item.__backendId === editingItemId);
        if (existingItem) {
          const updatedItem = { ...existingItem, ...itemData };
          const result = await window.dataSdk.update(updatedItem);
          
          if (result.isOk) {
            showToast('Prato atualizado com sucesso!');
            closeItemModal();
          } else {
            showToast('Erro ao atualizar prato: ' + result.error.message, true);
          }
        }
      } else {
        if (!category) {
          itemData.category = currentCategory;
        }
        itemData.id = Date.now().toString() + Math.random().toString(36).substr(2, 9);
        
        const result = await window.dataSdk.create(itemData);
        
        if (result.isOk) {
          showToast('Prato adicionado com sucesso!');
          closeItemModal();
        } else {
          showToast('Erro ao adicionar prato: ' + result.error.message, true);
        }
      }
      
      saveBtn.disabled = false;
      saveBtn.textContent = 'Salvar Prato';
    }

    async function editItem(itemId) {
      if (!isAdminAuthenticated) {
        openPasswordModal();
        return;
      }
      
      const item = allMenuItems.find(i => i.__backendId === itemId);
      if (!item) return;
      
      editingItemId = itemId;
      
      document.getElementById('itemModalTitle').textContent = 'Editar Prato';
      document.getElementById('itemName').value = item.name || '';
      document.getElementById('itemPrice').value = item.price || '';
      document.getElementById('itemDescription').value = item.description || '';
      document.getElementById('itemImageUrl').value = item.image_url || '';
      document.getElementById('itemTags').value = item.tags || '';
      document.getElementById('itemCategory').value = item.category || 'appetizers';
      
      document.getElementById('itemModal').classList.add('active');
    }

    async function deleteItem(itemId) {
      if (!isAdminAuthenticated) {
        openPasswordModal();
        return;
      }
      
      const item = allMenuItems.find(i => i.__backendId === itemId);
      if (!item) return;
      
      const card = document.querySelector(`[data-item-id="${itemId}"]`);
      if (!card) return;
      
      const deleteBtn = card.querySelector('.delete-item-btn');
      const originalContent = deleteBtn.innerHTML;
      
      deleteBtn.innerHTML = '‚úì';
      deleteBtn.onclick = null;
      
      setTimeout(async () => {
        const result = await window.dataSdk.delete(item);
        
        if (result.isOk) {
          showToast('Prato exclu√≠do com sucesso!');
        } else {
          showToast('Erro ao excluir prato: ' + result.error.message, true);
          deleteBtn.innerHTML = originalContent;
          deleteBtn.onclick = () => deleteItem(itemId);
        }
      }, 1000);
    }

    document.getElementById('adminBtn').addEventListener('click', openSettingsModal);
    
    document.getElementById('settingsModal').addEventListener('click', (e) => {
      if (e.target.id === 'settingsModal') closeSettingsModal();
    });
    
    document.getElementById('itemModal').addEventListener('click', (e) => {
      if (e.target.id === 'itemModal') closeItemModal();
    });
    
    document.getElementById('passwordModal').addEventListener('click', (e) => {
      if (e.target.id === 'passwordModal') closePasswordModal();
    });
    
    document.getElementById('adminPassword').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        verifyPassword();
      }
    });
    
    const searchInput = document.getElementById('searchInput');
    const searchClear = document.getElementById('searchClear');
    
    searchInput.addEventListener('input', (e) => {
      searchTerm = e.target.value.trim();
      
      if (searchTerm) {
        searchClear.style.display = 'flex';
      } else {
        searchClear.style.display = 'none';
      }
      
      const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
      const colors = {
        background_color: config.background_color || defaultConfig.background_color,
        card_background: config.card_background || defaultConfig.card_background,
        text_color: config.text_color || defaultConfig.text_color,
        accent_color: config.accent_color || defaultConfig.accent_color,
        tag_color: config.tag_color || defaultConfig.tag_color
      };
      const baseFontSize = config.font_size || defaultConfig.font_size;
      
      renderMenuItems(colors, baseFontSize);
    });
    
    searchClear.addEventListener('click', () => {
      searchInput.value = '';
      searchTerm = '';
      searchClear.style.display = 'none';
      
      const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
      const colors = {
        background_color: config.background_color || defaultConfig.background_color,
        card_background: config.card_background || defaultConfig.card_background,
        text_color: config.text_color || defaultConfig.text_color,
        accent_color: config.accent_color || defaultConfig.accent_color,
        tag_color: config.tag_color || defaultConfig.tag_color
      };
      const baseFontSize = config.font_size || defaultConfig.font_size;
      
      renderMenuItems(colors, baseFontSize);
      searchInput.focus();
    });

    const dataHandler = {
      onDataChanged(data) {
        allMenuItems = data;
        
        const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
        const colors = {
          background_color: config.background_color || defaultConfig.background_color,
          card_background: config.card_background || defaultConfig.card_background,
          text_color: config.text_color || defaultConfig.text_color,
          accent_color: config.accent_color || defaultConfig.accent_color,
          tag_color: config.tag_color || defaultConfig.tag_color
        };
        const baseFontSize = config.font_size || defaultConfig.font_size;
        
        renderMenuItems(colors, baseFontSize);
      }
    };

    (async function init() {
      updateAdminUI();
      
      if (window.dataSdk) {
        const result = await window.dataSdk.init(dataHandler);
        if (!result.isOk) {
          console.error('Erro ao inicializar Data SDK:', result.error);
          showToast('Erro ao carregar dados do card√°pio', true);
        }
      }

      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities: (config) => ({
            recolorables: [
              {
                get: () => config.background_color || defaultConfig.background_color,
                set: (value) => {
                  config.background_color = value;
                  window.elementSdk.setConfig({ background_color: value });
                }
              },
              {
                get: () => config.card_background || defaultConfig.card_background,
                set: (value) => {
                  config.card_background = value;
                  window.elementSdk.setConfig({ card_background: value });
                }
              },
              {
                get: () => config.text_color || defaultConfig.text_color,
                set: (value) => {
                  config.text_color = value;
                  window.elementSdk.setConfig({ text_color: value });
                }
              },
              {
                get: () => config.accent_color || defaultConfig.accent_color,
                set: (value) => {
                  config.accent_color = value;
                  window.elementSdk.setConfig({ accent_color: value });
                }
              },
              {
                get: () => config.tag_color || defaultConfig.tag_color,
                set: (value) => {
                  config.tag_color = value;
                  window.elementSdk.setConfig({ tag_color: value });
                }
              }
            ],
            borderables: [],
            fontEditable: {
              get: () => config.font_family || defaultConfig.font_family,
              set: (value) => {
                config.font_family = value;
                window.elementSdk.setConfig({ font_family: value });
              }
            },
            fontSizeable: {
              get: () => config.font_size || defaultConfig.font_size,
              set: (value) => {
                config.font_size = value;
                window.elementSdk.setConfig({ font_size: value });
              }
            }
          }),
          mapToEditPanelValues: (config) => new Map([
            ["restaurant_name", config.restaurant_name || defaultConfig.restaurant_name],
            ["restaurant_tagline", config.restaurant_tagline || defaultConfig.restaurant_tagline],
            ["appetizers_title", config.appetizers_title || defaultConfig.appetizers_title],
            ["main_courses_title", config.main_courses_title || defaultConfig.main_courses_title],
            ["pasta_title", config.pasta_title || defaultConfig.pasta_title],
            ["desserts_title", config.desserts_title || defaultConfig.desserts_title],
            ["beverages_title", config.beverages_title || defaultConfig.beverages_title]
          ])
        });
      }
    })();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b00656b152cf623',t:'MTc2NjA3OTExMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
